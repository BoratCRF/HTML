{% extends "global/basegames.html" %}

{% block main %}
{% load static %}
<body>

    <main>
        <section class="container text-center">
            <div class="iframe-container position-relative">
                <iframe id="gameIframe" src="{% static 'global/games/Skyfighter/index.html' %}" allow="fullscreen"
                    title="Skyfighter e os Aerochamas" style="width: 100%; height: 500px; border: none;">
                </iframe>
                <button id="fullscreenBtn" class="btn btn-primary mt-3">Tela cheia</button>
            </div>
        </section>
        <!-- Informações do Jogo -->
        <div class="game-info">
            <h2>Skyfighter e os Aerochamas</h2>
            <p>
                Skyfighter e os Aerochamas é um jogo emocionante e cativante que se passa no mundo mágico
                de Ventólia. Você assume o papel de Skyfighter, uma jovem pegasus de 15 anos que sonha em se tornar uma
                membro dos renomados Aerochamas, a equipe de pilotos de elite do reino. Quanto mais tempo você durar,
                maior será sua pontuação! Será que você
                consegue bater o recorde?
            </p>

            <!-- Controles do Jogo -->
            <div class="controls">
                <h3>Controles</h3>
                <ul>
                    <li>
                        <strong>
                            <img src="{% static 'global/img/click.png' %}" alt="Botão esquerdo do Mouse" width="80"> Clique do Mouse
                        </strong>
                        - Interagir e Pular
                    </li>
                </ul>
            </div>
        </div>
        </div>



<script>
    document.getElementById('fullscreenBtn').addEventListener('click', function () {
        let iframe = document.getElementById('gameIframe');

        if (!document.fullscreenElement) {
            if (iframe.requestFullscreen) {
                iframe.requestFullscreen();
            } else if (iframe.mozRequestFullScreen) { // Firefox
                iframe.mozRequestFullScreen();
            } else if (iframe.webkitRequestFullscreen) { // Chrome, Safari e Opera
                iframe.webkitRequestFullscreen();
            } else if (iframe.msRequestFullscreen) { // IE/Edge
                iframe.msRequestFullscreen();
            }
            this.textContent = "Sair da tela cheia";
        } else {
            if (document.exitFullscreen) {
                document.exitFullscreen();
            } else if (document.mozCancelFullScreen) {
                document.mozCancelFullScreen();
            } else if (document.webkitExitFullscreen) {
                document.webkitExitFullscreen();
            } else if (document.msExitFullscreen) {
                document.msExitFullscreen();
            }
            this.textContent = "Tela cheia";
        }
    });

    // Atualiza o botão ao sair da tela cheia manualmente
    document.addEventListener("fullscreenchange", function () {
        if (!document.fullscreenElement) {
            document.getElementById('fullscreenBtn').textContent = "Tela cheia";
        }
    });</script>
{% endblock main %}